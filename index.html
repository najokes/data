<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>База данных компаний</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
        
        body {
            background: #f5f5f5;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        header {
            background: white;
            padding: 20px;
            border-bottom: 3px solid #d32f2f;
            text-align: center;
        }
        
        h1 {
            color: #d32f2f;
            margin-bottom: 10px;
        }
        
        .filters {
            padding: 20px;
            background: #f8f9fa;
            border-bottom: 1px solid #ddd;
        }
        
        .search-box {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .search-input {
            flex: 1;
            min-width: 300px;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        
        .filter-select {
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background: white;
            font-size: 16px;
            min-width: 200px;
        }
        
        /* Таблица компаний */
        .companies-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .companies-table th {
            background: #d32f2f;
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: bold;
            border-bottom: 2px solid #b71c1c;
        }
        
        .companies-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
        }
        
        .companies-table tr:hover {
            background-color: #fff5f5;
        }
        
        .company-name {
            font-weight: bold;
            color: #333;
        }
        
        .company-desc {
            font-size: 12px;
            color: #666;
            margin-top: 3px;
        }
        
        .sector-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .sector-tech { background: #e3f2fd; color: #1565c0; }
        .sector-retail { background: #ffebee; color: #c62828; }
        .sector-finance { background: #e8f5e8; color: #2e7d32; }
        .sector-production { background: #fff8e1; color: #ff8f00; }
        
        .roi-positive { color: #2e7d32; font-weight: bold; }
        .roi-negative { color: #c62828; font-weight: bold; }
        
        .inn {
            font-family: monospace;
            background: #f5f5f5;
            padding: 3px 6px;
            border-radius: 3px;
            font-size: 14px;
        }
        
        .pagination {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px;
            align-items: center;
        }
        
        .page-btn {
            padding: 8px 15px;
            background: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
        }
        
        .page-btn:hover {
            background: #e9ecef;
        }
        
        .page-info {
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>База данных компаний</h1>
            <p>Финансовые показатели компаний</p>
        </header>
        
        <div class="filters">
            <div class="search-box">
                <input type="text" 
                       class="search-input" 
                       id="searchInput" 
                       placeholder="Поиск по названию или ИНН..."
                       onkeyup="searchCompanies()">
                
                <select class="filter-select" id="sectorFilter" onchange="filterBySector()">
                    <option value="all">Все направления</option>
                    <option value="Технологии">Технологии</option>
                    <option value="Финансы">Финансы</option>
                    <option value="Ритейл">Ритейл</option>
                    <option value="Производство">Производство</option>
                </select>
            </div>
        </div>
        
        <!-- Таблица будет заполнена JavaScript -->
        <div style="padding: 20px;">
            <table class="companies-table" id="companiesTable">
                <thead>
                    <tr>
                        <th>Компания</th>
                        <th>Направление</th>
                        <th>ИНН</th>
                        <th>ROI</th>
                        <th>Инвестиции</th>
                        <th>Клиенты</th>
                    </tr>
                </thead>
                <tbody id="companiesTableBody">
                    <!-- Данные загружаются автоматически -->
                </tbody>
            </table>
            
            <div class="pagination" id="pagination">
                <!-- Пагинация -->
            </div>
        </div>
    </div>

    <script>
        // Данные компаний
        const companies = [
            {
                name: "ООО 'Технологии Будущего'",
                desc: "Разработка IT-решений",
                sector: "Технологии",
                inn: "7708123456",
                roi: 18.5,
                investment: 120000000,
                clients: 250
            },
            {
                name: "ПАО 'Сбербанк'",
                desc: "Крупнейший банк России",
                sector: "Финансы",
                inn: "7702070139",
                roi: 15.2,
                investment: 500000000,
                clients: 15000
            },
            {
                name: "ООО 'Магнит'",
                desc: "Сеть супермаркетов",
                sector: "Ритейл",
                inn: "7724008320",
                roi: 12.8,
                investment: 80000000,
                clients: 5000
            },
            {
                name: "АО 'Яндекс'",
                desc: "IT-компания, интернет-поиск",
                sector: "Технологии",
                inn: "7707049398",
                roi: 22.1,
                investment: 300000000,
                clients: 8000
            },
            {
                name: "ПАО 'Газпром'",
                desc: "Газовая компания",
                sector: "Производство",
                inn: "7710140679",
                roi: 9.5,
                investment: 1000000000,
                clients: 200
            },
            {
                name: "ООО 'Розничные Решения'",
                desc: "Розничная сеть",
                sector: "Ритейл",
                inn: "7712345678",
                roi: 14.3,
                investment: 60000000,
                clients: 1200
            },
            {
                name: "АО 'Финансовый Капитал'",
                desc: "Инвестиционный банк",
                sector: "Финансы",
                inn: "7713456789",
                roi: 19.7,
                investment: 250000000,
                clients: 450
            },
            {
                name: "ООО 'Техноинновации'",
                desc: "Разработка ПО",
                sector: "Технологии",
                inn: "7714567890",
                roi: 25.4,
                investment: 75000000,
                clients: 180
            },
            {
                name: "ПАО 'Лукойл'",
                desc: "Нефтяная компания",
                sector: "Производство",
                inn: "7830002293",
                roi: 8.9,
                investment: 850000000,
                clients: 150
            },
            {
                name: "ООО 'Электронные Решения'",
                desc: "IT-консалтинг",
                sector: "Технологии",
                inn: "7715678901",
                roi: 21.3,
                investment: 40000000,
                clients: 320
            },
            {
                name: "АО 'Банк Финанс'",
                desc: "Коммерческий банк",
                sector: "Финансы",
                inn: "7716789012",
                roi: 16.8,
                investment: 180000000,
                clients: 2800
            },
            {
                name: "ООО 'СтройМаркет'",
                desc: "Строительные материалы",
                sector: "Ритейл",
                inn: "7717890123",
                roi: 11.2,
                investment: 35000000,
                clients: 950
            },
            {
                name: "ПАО 'АвтоВАЗ'",
                desc: "Производство автомобилей",
                sector: "Производство",
                inn: "6320000999",
                roi: 7.5,
                investment: 650000000,
                clients: 50
            },
            {
                name: "ООО 'КиберТех'",
                desc: "Кибербезопасность",
                sector: "Технологии",
                inn: "7718901234",
                roi: 28.6,
                investment: 55000000,
                clients: 210
            },
            {
                name: "АО 'ИнвестКапитал'",
                desc: "Управление активами",
                sector: "Финансы",
                inn: "7719012345",
                roi: 17.9,
                investment: 320000000,
                clients: 120
            },
            {
                name: "ООО 'Продукты Плюс'",
                desc: "Продуктовый ритейл",
                sector: "Ритейл",
                inn: "7720123456",
                roi: 13.4,
                investment: 45000000,
                clients: 1800
            },
            {
                name: "ПАО 'Норильский никель'",
                desc: "Горно-металлургическая компания",
                sector: "Производство",
                inn: "8401002460",
                roi: 10.1,
                investment: 720000000,
                clients: 80
            },
            {
                name: "ООО 'Айти Решения'",
                desc: "Разработка приложений",
                sector: "Технологии",
                inn: "7721234567",
                roi: 23.7,
                investment: 28000000,
                clients: 160
            },
            {
                name: "АО 'Страховая Группа'",
                desc: "Страховые услуги",
                sector: "Финансы",
                inn: "7722345678",
                roi: 14.8,
                investment: 95000000,
                clients: 3500
            },
            {
                name: "ООО 'Дом и Сад'",
                desc: "Товары для дома",
                sector: "Ритейл",
                inn: "7723456789",
                roi: 12.1,
                investment: 30000000,
                clients: 1100
            }
        ];

        let currentPage = 1;
        const companiesPerPage = 10;
        let currentFilter = 'all';
        let currentSearch = '';

        // Функция форматирования чисел
        function formatNumber(num) {
            if (num >= 1000000000) {
                return (num / 1000000000).toFixed(1).replace('.', ',') + ' млрд';
            }
            if (num >= 1000000) {
                return (num / 1000000).toFixed(1).replace('.', ',') + ' млн';
            }
            return num.toLocaleString('ru-RU');
        }

        // Функция получения класса для сектора
        function getSectorClass(sector) {
            const classes = {
                "Технологии": "sector-tech",
                "Финансы": "sector-finance",
                "Ритейл": "sector-retail",
                "Производство": "sector-production"
            };
            return classes[sector] || "sector-tech";
        }

        // Функция рендеринга таблицы
        function renderCompaniesTable() {
            const tableBody = document.getElementById('companiesTableBody');
            const pagination = document.getElementById('pagination');
            
            // Фильтрация компаний
            let filteredCompanies = companies;
            
            // Применение фильтра по сектору
            if (currentFilter !== 'all') {
                filteredCompanies = filteredCompanies.filter(company => company.sector === currentFilter);
            }
            
            // Применение поиска
            if (currentSearch) {
                const searchLower = currentSearch.toLowerCase();
                filteredCompanies = filteredCompanies.filter(company => 
                    company.name.toLowerCase().includes(searchLower) || 
                    company.inn.includes(currentSearch)
                );
            }
            
            // Общее количество компаний
            const totalCompanies = filteredCompanies.length;
            const totalPages = Math.ceil(totalCompanies / companiesPerPage);
            
            // Пагинация
            const startIndex = (currentPage - 1) * companiesPerPage;
            const endIndex = startIndex + companiesPerPage;
            const companiesToShow = filteredCompanies.slice(startIndex, endIndex);
            
            // Очистка таблицы
            tableBody.innerHTML = '';
            
            // Заполнение таблицы
            companiesToShow.forEach((company) => {
                const row = document.createElement('tr');
                const roiClass = company.roi >= 15 ? 'roi-positive' : (company.roi >= 10 ? '' : 'roi-negative');
                
                row.innerHTML = `
                    <td>
                        <div class="company-name">${company.name}</div>
                        <div class="company-desc">${company.desc}</div>
                    </td>
                    <td><span class="sector-badge ${getSectorClass(company.sector)}">${company.sector}</span></td>
                    <td><div class="inn">${company.inn}</div></td>
                    <td class="${roiClass}">${company.roi.toFixed(1)}%</td>
                    <td>${formatNumber(company.investment)}</td>
                    <td>${company.clients.toLocaleString()}</td>
                `;
                
                tableBody.appendChild(row);
            });
            
            // Рендеринг пагинации
            renderPagination(pagination, totalPages, currentPage);
        }

        // Функция рендеринга пагинации
        function renderPagination(container, totalPages, currentPage) {
            container.innerHTML = '';
            
            if (totalPages <= 1) return;
            
            // Кнопка "Назад"
            const prevBtn = document.createElement('button');
            prevBtn.className = 'page-btn';
            prevBtn.innerHTML = '← Назад';
            prevBtn.disabled = currentPage === 1;
            prevBtn.onclick = () => {
                if (currentPage > 1) {
                    currentPage--;
                    renderCompaniesTable();
                }
            };
            container.appendChild(prevBtn);
            
            // Информация о странице
            const pageInfo = document.createElement('span');
            pageInfo.className = 'page-info';
            pageInfo.textContent = `Страница ${currentPage} из ${totalPages}`;
            container.appendChild(pageInfo);
            
            // Кнопка "Вперед"
            const nextBtn = document.createElement('button');
            nextBtn.className = 'page-btn';
            nextBtn.innerHTML = 'Вперед →';
            nextBtn.disabled = currentPage === totalPages;
            nextBtn.onclick = () => {
                if (currentPage < totalPages) {
                    currentPage++;
                    renderCompaniesTable();
                }
            };
            container.appendChild(nextBtn);
        }

        // Функция поиска
        function searchCompanies() {
            currentSearch = document.getElementById('searchInput').value;
            currentPage = 1;
            renderCompaniesTable();
        }

        // Функция фильтрации по сектору
        function filterBySector() {
            currentFilter = document.getElementById('sectorFilter').value;
            currentPage = 1;
            renderCompaniesTable();
        }

        // Инициализация при загрузке страницы
        document.addEventListener('DOMContentLoaded', function() {
            // Рендерим таблицу сразу при загрузке
            renderCompaniesTable();
            
            // Добавляем обработчик Enter для поиска
            document.getElementById('searchInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    searchCompanies();
                }
            });
        });
    </script>
</body>
</html>
